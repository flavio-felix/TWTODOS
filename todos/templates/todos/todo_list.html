  {% extends "base.html" %}

  {% block page_title %}Lista de tarefas{% endblock page_title %}

  {% block content %}
  <h1>Lista de tarefas</h1>
        {% if todo_list %}
        <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">TÍTULO</th>
                <th scope="col">CRIADO EM</th>
                <th scope="col">DATA DE ENTREGA</th>
                <th scope="col">FINALIZADO EM</th>
                <th scope="col">AÇÕES</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                {% for todo in todo_list %}
                <tr>
                    <th scope="row">{{ todo.pk }}</th>
                    <td>{{ todo.title }}</td>
                    <td>{{ todo.created_at }}</td>
                    <td>{{ todo.deadline }}</td>
                    <td>{{ todo.finish_at|default:"-" }}</td>
                    <td>
                        <a href= "{% url 'todo_complete' pk=todo.pk %} " 
                        class="btn btn-primary btn-sm {% if todo.finish_at %}disabled{% endif %}">
                        Concluir
                        </a>
                        <a href="{% url 'todo_update' pk=todo.pk %}" 
                        class="btn btn-secondary btn-sm {% if todo.finish_at %}disabled{% endif %}">
                        Editar
                        </a>
                        <a href="{% url 'todo_delete' pk=todo.pk %}" class="btn btn-danger btn-sm">Excluir</a>
                    </td>
                  </tr>
                {% endfor %}
            </tbody>
          </table>

        {% else %}
            <p>Não há tarefas cadastradas.</p>
        {% endif %}

        <a href="{% url 'todo_create' %}" class="btn btn-primary">Nova Tarefa</a>
{% endblock content %}